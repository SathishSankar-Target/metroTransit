{"ast":null,"code":"import _classCallCheck from\"/Users/a6002489/Desktop/Sathish/caseStudy/metroTransit/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/a6002489/Desktop/Sathish/caseStudy/metroTransit/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/a6002489/Desktop/Sathish/caseStudy/metroTransit/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/a6002489/Desktop/Sathish/caseStudy/metroTransit/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/a6002489/Desktop/Sathish/caseStudy/metroTransit/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./App.css';var DepartureList=/*#__PURE__*/function(_Component){_inherits(DepartureList,_Component);function DepartureList(props){var _this;_classCallCheck(this,DepartureList);_this=_possibleConstructorReturn(this,_getPrototypeOf(DepartureList).call(this,props));_this.showMoreDeparture=function(){if(_this.state.departureCountToShow===3){_this.setState({departureCountToShow:_this.props.departureList.Departures.length,departureExpanded:true});}else{_this.setState({departureCountToShow:3,departureExpanded:false});}};_this.timeDiff=function(departTime){return new Date(departTime)-new Date()<5*60*1000;};_this.state={departureCountToShow:3,departureExpanded:false};return _this;}// onClick method to expand/colapse to show more/less departure list when the list length is more than 3\n_createClass(DepartureList,[{key:\"render\",value:function render(){var _this2=this;var departureList=this.props.departureList;return React.createElement(\"div\",{className:\"departure-container\"},departureList.Stop!==undefined&&departureList.Departures!==undefined?React.createElement(\"div\",null,React.createElement(\"div\",{className:\"departure\"},React.createElement(\"h2\",{className:\"departure-title\"},\"Departures\"),React.createElement(\"div\",{className:\"stop-description\"},React.createElement(\"div\",null,departureList.Stop.Description),React.createElement(\"div\",null,\"Stop \",departureList.Stop.StopId))),React.createElement(\"div\",{role:\"list\"},departureList.Departures.slice(0,this.state.departureCountToShow).map(function(departure){return React.createElement(\"div\",{className:\"departure-list\",key:departure.BlockNumber},React.createElement(\"div\",{className:\"route-discription\"},React.createElement(\"span\",{className:\"route-id\"},React.createElement(\"strong\",null,departure.RouteId)),React.createElement(\"span\",null,departure.Description)),React.createElement(\"div\",{className:\"depart-time\"},_this2.timeDiff(departure.DepartureTime)&&React.createElement(\"span\",{className:\"blink\"}),React.createElement(\"strong\",null,departure.DepartureText)));})),departureList.Departures.length>3&&React.createElement(\"button\",{className:\"show-more-button\",onClick:this.showMoreDeparture},React.createElement(\"span\",{className:this.state.departureExpanded?'expand':'colapsed'}),\"Show \",this.state.departureExpanded?'less':'more',\" departure time\")):// Error message in case of any api service fails or wrong data passed\nReact.createElement(\"div\",null,\"We are unable to get the desired direction for your select, Kindly try chaning the option for the route, direction and stop\"));}}]);return DepartureList;}(Component);export default DepartureList;","map":{"version":3,"sources":["/Users/a6002489/Desktop/Sathish/caseStudy/metroTransit/src/departureList.js"],"names":["React","Component","DepartureList","props","showMoreDeparture","state","departureCountToShow","setState","departureList","Departures","length","departureExpanded","timeDiff","departTime","Date","Stop","undefined","Description","StopId","slice","map","departure","BlockNumber","RouteId","DepartureTime","DepartureText"],"mappings":"2rBAAA,MAAOA,CAAAA,KAAP,EAAiBC,SAAjB,KAAiC,OAAjC,CACA,MAAO,WAAP,C,GAGMC,CAAAA,a,uEACJ,uBAAYC,KAAZ,CAAmB,+CACjB,+EAAMA,KAAN,GADiB,MASnBC,iBATmB,CASC,UAAM,CACxB,GAAG,MAAKC,KAAL,CAAWC,oBAAX,GAAoC,CAAvC,CAA0C,CACxC,MAAKC,QAAL,CAAc,CAAED,oBAAoB,CAAE,MAAKH,KAAL,CAAWK,aAAX,CAAyBC,UAAzB,CAAoCC,MAA5D,CAAoEC,iBAAiB,CAAE,IAAvF,CAAd,EACD,CAFD,IAEO,CACL,MAAKJ,QAAL,CAAc,CAAED,oBAAoB,CAAE,CAAxB,CAA2BK,iBAAiB,CAAE,KAA9C,CAAd,EACD,CACF,CAfkB,OAiBnBC,QAjBmB,CAiBR,SAACC,UAAD,CAAgB,CAC1B,MAAS,IAAIC,CAAAA,IAAJ,CAASD,UAAT,EAAsB,GAAIC,CAAAA,IAAJ,EAAvB,CAAqC,EAAE,EAAF,CAAK,IAAlD,CACA,CAnBkB,CAEjB,MAAKT,KAAL,CAAa,CACXC,oBAAoB,CAAE,CADX,CAEXK,iBAAiB,CAAE,KAFR,CAAb,CAFiB,aAMlB,CAED;iEAaS,iBACT,GAAMH,CAAAA,aAAa,CAAG,KAAKL,KAAL,CAAWK,aAAjC,CACE,MACD,4BAAK,SAAS,CAAC,qBAAf,EACIA,aAAa,CAACO,IAAd,GAAuBC,SAAvB,EAAoCR,aAAa,CAACC,UAAd,GAA6BO,SAAlE,CACD,+BACC,2BAAK,SAAS,CAAC,WAAf,EACC,0BAAI,SAAS,CAAC,iBAAd,eADD,CAEC,2BAAK,SAAS,CAAC,kBAAf,EACC,+BAAMR,aAAa,CAACO,IAAd,CAAmBE,WAAzB,CADD,CAEC,uCAAWT,aAAa,CAACO,IAAd,CAAmBG,MAA9B,CAFD,CAFD,CADD,CAQC,2BAAK,IAAI,CAAC,MAAV,EACEV,aAAa,CAACC,UAAd,CAAyBU,KAAzB,CAA+B,CAA/B,CAAkC,KAAKd,KAAL,CAAWC,oBAA7C,EAAmEc,GAAnE,CAAuE,SAAAC,SAAS,CAAI,CACrF,MAAO,4BAAK,SAAS,CAAC,gBAAf,CAAgC,GAAG,CAAEA,SAAS,CAACC,WAA/C,EACL,2BAAK,SAAS,CAAC,mBAAf,EACA,4BAAM,SAAS,CAAC,UAAhB,EAA2B,kCAASD,SAAS,CAACE,OAAnB,CAA3B,CADA,CAEA,gCAAOF,SAAS,CAACJ,WAAjB,CAFA,CADK,CAKL,2BAAK,SAAS,CAAC,aAAf,EACC,MAAI,CAACL,QAAL,CAAcS,SAAS,CAACG,aAAxB,GAA0C,4BAAM,SAAS,CAAC,OAAhB,EAD3C,CAEC,kCAASH,SAAS,CAACI,aAAnB,CAFD,CALK,CAAP,CAUC,CAXA,CADF,CARD,CAuBGjB,aAAa,CAACC,UAAd,CAAyBC,MAAzB,CAAkC,CAAlC,EACD,8BAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAE,KAAKN,iBAAnD,EACA,4BAAM,SAAS,CAAE,KAAKC,KAAL,CAAWM,iBAAX,CAA+B,QAA/B,CAAyC,UAA1D,EADA,SAEM,KAAKN,KAAL,CAAWM,iBAAX,CAA+B,MAA/B,CAAwC,MAF9C,mBAxBF,CADC,CAgCD;AACA,6JAlCF,CADC,CAuCF,C,2BA/D0BV,S,EAmE5B,cAAeC,CAAAA,aAAf","sourcesContent":["import React , { Component }from 'react';\nimport './App.css';\n\n\nclass DepartureList extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      departureCountToShow: 3,\n      departureExpanded: false,\n    }\n  }\n  \n  // onClick method to expand/colapse to show more/less departure list when the list length is more than 3\n  showMoreDeparture = () => {\n    if(this.state.departureCountToShow === 3 ){\n      this.setState({ departureCountToShow: this.props.departureList.Departures.length, departureExpanded: true })\n    } else {\n      this.setState({ departureCountToShow: 3, departureExpanded: false })\n    }\n  }\n\n  timeDiff = (departTime) => {\n\t  return ((new Date(departTime) -new Date()) < 5*60*1000)\n  }\n\n  render() {\n\t\tconst departureList = this.props.departureList\n    return (\n\t\t\t<div className=\"departure-container\">\n\t\t\t\t{ (departureList.Stop !== undefined && departureList.Departures !== undefined) ?\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"departure\">\n\t\t\t\t\t\t\t<h2 className=\"departure-title\">Departures</h2>\n\t\t\t\t\t\t\t<div className=\"stop-description\">\n\t\t\t\t\t\t\t\t<div>{departureList.Stop.Description}</div>\n\t\t\t\t\t\t\t\t<div>Stop {departureList.Stop.StopId}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div role='list'>\n\t\t\t\t\t\t\t{departureList.Departures.slice(0, this.state.departureCountToShow).map(departure => {\n\t\t\t\t\t\t\treturn <div className=\"departure-list\" key={departure.BlockNumber}>\n\t\t\t\t\t\t\t\t\t<div className=\"route-discription\">\n\t\t\t\t\t\t\t\t\t<span className=\"route-id\"><strong>{departure.RouteId}</strong></span>\n\t\t\t\t\t\t\t\t\t<span>{departure.Description}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"depart-time\">\n\t\t\t\t\t\t\t\t\t{this.timeDiff(departure.DepartureTime) && <span className=\"blink\"></span>}\n\t\t\t\t\t\t\t\t\t\t<strong>{departure.DepartureText}</strong>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* show more/less departure list button */}\n\t\t\t\t\t\t{ departureList.Departures.length > 3 && \n\t\t\t\t\t\t\t<button className=\"show-more-button\" onClick={this.showMoreDeparture}>\n\t\t\t\t\t\t\t<span className={this.state.departureExpanded ? 'expand': 'colapsed'}></span>\n\t\t\t\t\t\t\tShow {this.state.departureExpanded ? 'less' : 'more' } departure time\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t// Error message in case of any api service fails or wrong data passed\n\t\t\t\t\t<div>We are unable to get the desired direction for your select, Kindly try chaning the option for the route, direction and stop</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n        \n\nexport default DepartureList\n"]},"metadata":{},"sourceType":"module"}